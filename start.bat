@echo off
title AI Office - Optimized for Ryzen 7
color 0A
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo            ðŸš€ AI OFFICE - ÐžÐŸÐ¢Ð˜ÐœÐ˜Ð—Ð˜Ð ÐžÐ’ÐÐÐÐ«Ð™ Ð—ÐÐŸÐ£Ð¡Ðš
echo                  AMD Ryzen 7 â”‚ 16 Ð¿Ð¾Ñ‚Ð¾ÐºÐ¾Ð² â”‚ 15.4 GB RAM
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

:: Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð¾ÐºÐ½Ð°)
set OLLAMA_NUM_PARALLEL=4
set OLLAMA_MAX_LOADED_MODELS=2
set OLLAMA_KEEP_ALIVE=10m
set OLLAMA_HOST=0.0.0.0

:: ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
echo ðŸ”§ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸:
echo   â””â”€ OLLAMA_NUM_PARALLEL = 4      (Ð¿Ð°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²)
echo   â””â”€ OLLAMA_MAX_LOADED_MODELS = 2 (Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹ Ð² Ð¿Ð°Ð¼ÑÑ‚Ð¸)
echo   â””â”€ OLLAMA_KEEP_ALIVE = 10m      (Ð²Ñ€ÐµÐ¼Ñ Ð¶Ð¸Ð·Ð½Ð¸ Ð¼Ð¾Ð´ÐµÐ»Ð¸)
echo   â””â”€ OLLAMA_HOST = 0.0.0.0         (ÑÐ»ÑƒÑˆÐ°ÐµÐ¼ Ð²ÑÐµ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑ‹)
echo.

:: ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð° Ð»Ð¸ Ollama
echo ðŸ” ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ollama...
curl -s http://localhost:11434/api/tags >nul
if errorlevel 1 (
    echo âš ï¸ Ollama Ð½Ðµ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð°. Ð—Ð°Ð¿ÑƒÑÐºÐ°ÑŽ...
    start /b ollama serve
    echo â³ ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ollama...
    timeout /t 5 /nobreak
) else (
    echo âœ… Ollama ÑƒÐ¶Ðµ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð°
)

:: ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸ tinyllama
echo.
echo ðŸ” ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¼Ð¾Ð´ÐµÐ»Ð¸ tinyllama...
curl -s http://localhost:11434/api/tags | find "tinyllama" >nul
if errorlevel 1 (
    echo âš ï¸ ÐœÐ¾Ð´ÐµÐ»ÑŒ tinyllama Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð°. Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÑŽ...
    ollama pull tinyllama
) else (
    echo âœ… ÐœÐ¾Ð´ÐµÐ»ÑŒ tinyllama Ð³Ð¾Ñ‚Ð¾Ð²Ð°
)

echo.
echo ðŸš€ Ð—Ð°Ð¿ÑƒÑÐº Streamlit UI...
echo â³ ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ÐºÑ€Ð¾ÐµÑ‚ÑÑ Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ Ñ‡ÐµÑ€ÐµÐ· Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÐµÐºÑƒÐ½Ð´...
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo âœ… Ð’ÑÐµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ñ‹! Ð”Ð»Ñ Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ð½Ð°Ð¶Ð¼Ð¸ Ctrl+C
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

:: Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Streamlit
streamlit run ui/app.py

:: Ð•ÑÐ»Ð¸ Streamlit Ð·Ð°ÐºÑ€Ð¾ÐµÑ‚ÑÑ, Ð¿Ð¾ÐºÐ°Ð¶ÐµÐ¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ
echo.
echo âš ï¸ Streamlit Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½. ÐÐ°Ð¶Ð¼Ð¸ Ð»ÑŽÐ±ÑƒÑŽ ÐºÐ»Ð°Ð²Ð¸ÑˆÑƒ Ð´Ð»Ñ Ð²Ñ‹Ñ…Ð¾Ð´Ð°...
pause >nul